# 미니 게시판에 서버 붙이기
## 목적
이전에 만든 미니 게시판에 서버를 붙인다.

## 목표
1. node.js, express를 이용하여 서버를 구현하고 mysql을연동한다.
2. 기존의 미니 게시판을 서버와 연동한다.

## 과정

### 데이터베이스
1. 관계형 데이터베이스인 mysql을 사용하였다. 게시판이라는 주제와 어울리면서 익숙하기도 하고, 트러블 슈팅을 위한 자료를 찾기 쉬울 것 같아서 선택하였다.
2. mysql을 로컬에 바로 설치하는 것이 아니라, 도커를 사용하여 MySQL이 설치된 공식 이미지를 가져왔다. 배포할 때 도커를 이용하면 별다른 수고없이 옮길 수 있지 않을까 싶었다.

### 서버
1. node.js에 타입스크립트와 익스프레스를 이용하여 서버를 구현했다. 포스트맨을 테스트용 클라이언트로 삼아 진행했다.
2. 서버가 받는 HTTP 메시지를 처리할 때, 동적인 데이터를 어떻게 취급할지 고민을 했다. 예를 들어, 클라이언트가 HTTP 요청을 보낸다고 하자. 포스트 메소드를 이용하고 메시지 바디에 json형식으로 데이터를 보내기로 약속했다면, 서버에선 다음과 같은 사항들을 해결해야 한다.
    - 약속했던 대로 json 형식으로 데이터가 왔는지 확인
    - 데이터에서 기대했던 키가 존재하는지 확인.
    - 데이터에서 기대하지 않은 키가 있다면 제거.
    - 밸류의 타입이 적절한지 확인.
    - 밸류의 길이(댓글의 길이 제한 등)나 형식(이메일, 패스워드 등)이 적절한지 확인.
3. 2의 문제를 효율적으로 해결하기 위해 class-transformer, class-validator 라이브러리를 사용하였다.
    - class-transformer는 plain object를 클래스로, 클래스를 plain object로 변환하는 것을 도와주는 라이브러리이다. 변환 과정에서 조건을 주고 프로퍼티를 포함하거나 제거할 수 있다.
    - class-validator는 클래스를 검증하는 것을 도와주는 라이브러리이다. 프로퍼티가 존재하는지, 프로퍼티의 값은 적절한지 등을 검증할 수 있다.
4. 서버에서 DB에 접근하는 방법을 생각했다.
    - 익스프레스는 라우터를 정의하고, 미들웨어와 컨트롤러를 라우터에 등록한다. 
    - 컨트롤러에서 클라이언트에서 받은 데이터를 검증하고 가공하여 디비와 연동해야 했다.
    - 컨트롤러에서 모두 다 처리하면, 컨트롤러가 너무 비대해지고 복잡해진다.
    - 즉, DB에 데이터를 입력, 수정, 조회 할 수 있는 독립된 파트가 필요했다.
    - MVC
    - 이를 위해서 MVC라는 개념을 도입하고, 따로 DAO와 DTO를 만들어서 처리했다.
      - DAO는 Data Access Object로 데이터(여기선 디비)에 
5. 
    - DAO, DTO